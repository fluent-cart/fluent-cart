var Le=Object.defineProperty;var zt=y=>{throw TypeError(y)};var we=(y,t,i)=>t in y?Le(y,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):y[t]=i;var Mt=(y,t,i)=>we(y,typeof t!="symbol"?t+"":t,i),ht=(y,t,i)=>t.has(y)||zt("Cannot "+i);var e=(y,t,i)=>(ht(y,t,"read from private field"),i?i.call(y):t.get(y)),g=(y,t,i)=>t.has(y)?zt("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(y):t.set(y,i),p=(y,t,i,s)=>(ht(y,t,"write to private field"),s?s.call(y,i):t.set(y,i),i),r=(y,t,i)=>(ht(y,t,"access private method"),i);var V,k,U,Q,Z,j,T,Rt,Vt,Kt,Gt,ct;class Ce{constructor(t){g(this,T);g(this,V);g(this,k);g(this,U);g(this,Q);g(this,Z);g(this,j);p(this,k,t),console.log(e(this,k)),p(this,V,e(this,k).querySelectorAll("[data-tab]")),p(this,U,e(this,k).querySelector("[data-fluent-cart-product-item-price]")),p(this,Q,e(this,k).querySelector("[data-fluent-cart-product-payment-type]")),p(this,Z,e(this,k).querySelector("[data-fluent-cart-product-quantity-container]")),p(this,j,e(this,k).querySelector("[data-fluent-cart-add-to-cart-button]"))}init(){r(this,T,Rt).call(this),r(this,T,Vt).call(this)}handleVariationChange(t){t.closest("[data-tab-content]")}}V=new WeakMap,k=new WeakMap,U=new WeakMap,Q=new WeakMap,Z=new WeakMap,j=new WeakMap,T=new WeakSet,Rt=function(){e(this,V).forEach(t=>{t.addEventListener("click",()=>{r(this,T,Kt).call(this,t)})})},Vt=function(){const t=Array.from(e(this,V)).find(i=>i.classList.contains("active"));t&&r(this,T,ct).call(this,t)},Kt=function(t,i=!1){e(this,U)&&e(this,U).classList.add("is-hidden"),e(this,Q)&&e(this,Q).classList.add("is-hidden"),e(this,Z)&&e(this,Z).classList.add("is-hidden"),e(this,j)&&e(this,j).classList.add("is-hidden"),e(this,V).forEach(u=>u.classList.remove("active")),e(this,k).querySelectorAll("[data-tab-content]").forEach(u=>{u.classList.remove("active"),u.style.display="none"}),t.classList.add("active");const o=t.dataset.tab,n=e(this,k).querySelector(`#${o}`);n&&(n.classList.add("active"),r(this,T,Gt).call(this,n,400)),r(this,T,ct).call(this,t);let l=n==null?void 0:n.querySelector('[data-fluent-cart-product-variant][data-item-stock="in-stock"]');l||(l=n==null?void 0:n.querySelector("[data-fluent-cart-product-variant]")),l&&l.click()},Gt=function(t,i){t.style.opacity="0",t.style.display="block";const s=performance.now(),o=n=>{const l=n-s,u=Math.min(l/i,1);t.style.opacity=u,u<1&&requestAnimationFrame(o)};requestAnimationFrame(o)},ct=function(t){const i=e(this,k).querySelector("[data-tab-active-bar]");if(!i)return;const s=t.getBoundingClientRect(),o=t.parentElement.getBoundingClientRect();i.style.left=`${s.left-o.left}px`,i.style.width=`${s.width}px`};/*!
 * Lightbox Modified for fluentcart from v2.11.5 - Vanilla JS Version
 * Author: Lokesh Dhakar
 *
 * More info:
 * http://lokeshdhakar.com/projects/lightbox2/
 *
 * Copyright Lokesh Dhakar
 * Released under the MIT license
 * https://github.com/lokesh/lightbox2/blob/master/LICENSE
 *
 * @preserve
 */const Y=class Y{constructor(t={},i=[]){this.album=i,this.currentImageIndex=void 0,this.init(),this.options=Y.defaults,this.option(t),this.boundSizeOverlay=this.sizeOverlay.bind(this),this.boundKeyboardAction=this.keyboardAction.bind(this)}setAlbum(t=[]){this.album=t,this.currentImageIndex=0}static get defaults(){return{albumLabel:"Image %1 of %2",alwaysShowNavOnTouchDevices:!1,fadeDuration:600,fitImagesInViewport:!0,imageFadeDuration:600,positionFromTop:50,resizeDuration:700,showImageNumberLabel:!0,wrapAround:!1,disableScrolling:!1,sanitizeTitle:!1,maxHeightPercentage:80}}get classList(){return{lightboxOverlay:"fct-lightboxOverlay",lightbox:"fct-lightbox",lbOuterContainer:"lb-outerContainer",lbContainer:"lb-container",lbImage:"lb-image",lbNav:"lb-nav",lbPrev:"lb-prev",lbPrevLink:"lb-prevLink",lbNext:"lb-next",lbNextLink:"lb-nextLink",lbLoader:"lb-loader",lbCancel:"lb-cancel",lbDataContainer:"lb-dataContainer",lbData:"lb-data",lbDetails:"lb-details",lbCaption:"lb-caption",lbNumber:"lb-number",lbNumbers:"lb-numbers",lbCloseContainer:"lb-closeContainer",lbClose:"lb-close",lbDisableScrolling:"lb-disable-scrolling"}}extend(t,i){for(const s in i)i.hasOwnProperty(s)&&(t[s]=i[s])}fadeIn(t,i,s){t.style.opacity=0,t.style.display="flex";let o=null;const n=l=>{o||(o=l);const u=(l-o)/i;t.style.opacity=Math.min(u,1),u<1?requestAnimationFrame(n):s&&s()};requestAnimationFrame(n)}fadeOut(t,i,s){let o=null;const n=l=>{o||(o=l);const u=(l-o)/i;t.style.opacity=Math.max(1-u,0),u<1?requestAnimationFrame(n):(t.style.display="none",s&&s())};requestAnimationFrame(n)}animate(t,i,s,o){const n={},l={};for(const b in i){const w=getComputedStyle(t);n[b]=parseFloat(w[b])||0,l[b]=parseFloat(i[b])}let u=null;const m=b=>{u||(u=b);const w=Math.min((b-u)/s,1),$=.5-Math.cos(w*Math.PI)/2;for(const I in i){const O=n[I]+(l[I]-n[I])*$;t.style[I]=O+"px"}w<1?requestAnimationFrame(m):o&&o()};requestAnimationFrame(m)}option(t){this.extend(this.options,t)}imageCountLabel(t,i){return this.options.albumLabel.replace(/%1/g,t).replace(/%2/g,i)}init(){}shouldBuild(){return Y.isBuiltOnce===!1?(Y.isBuiltOnce=!0,!0):!1}ensureTemplateExist(){const t=this.classList;if(this.shouldBuild()){const i=`<div id="${t.lightboxOverlay}" tabindex="-1" class="${t.lightboxOverlay}"></div>
                <div id="${t.lightbox}" tabindex="-1" class="${t.lightbox}">
                   <div class="${t.lbOuterContainer}">
                      <div class="${t.lbContainer}">
                         <img class="${t.lbImage}" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" alt=""/>
                         <div class="${t.lbNav}">
                             <div class="${t.lbCloseContainer}">
                               <a class="${t.lbClose}" role="button" tabindex="0">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024"><path fill="currentColor" d="M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"></path></svg>
                                </a>
                            </div>
                            <a class="${t.lbPrev}" role="button" tabindex="0" aria-label="Previous image" href="" ></a>
                            <a class="${t.lbNext}" role="button" tabindex="0" aria-label="Next image" href="" ></a>
                         </div>
                         <div class="${t.lbLoader}">
                            <a class="${t.lbCancel}" role="button" tabindex="0">
                                <span class="lb-spinner"></span>
                            </a>
                         </div>
                      </div>
                   </div>
                   <div class="${t.lbDataContainer}">
                      <div class="${t.lbData}">
                         <div class="${t.lbDetails}">
                            <span class="${t.lbCaption}"></span>
                            <span class="${t.lbNumber}"></span>
                         </div>
                      </div>
                   </div>
                </div>`;document.body.insertAdjacentHTML("beforeend",i)}}build(){this.ensureTemplateExist();const t=this.classList;this.lightbox=document.getElementById(t.lightbox),this.overlay=document.getElementById(t.lightboxOverlay),this.outerContainer=this.lightbox.querySelector(`.${t.lbOuterContainer}`),this.container=this.lightbox.querySelector(`.${t.lbContainer}`),this.image=this.lightbox.querySelector(`.${t.lbImage}`),this.nav=this.lightbox.querySelector(`.${t.lbNav}`);const i=getComputedStyle(this.container);this.containerPadding={top:parseInt(i.paddingTop,10),right:parseInt(i.paddingRight,10),bottom:parseInt(i.paddingBottom,10),left:parseInt(i.paddingLeft,10)};const s=getComputedStyle(this.image);this.imageBorderWidth={top:parseInt(s.borderTopWidth,10),right:parseInt(s.borderRightWidth,10),bottom:parseInt(s.borderBottomWidth,10),left:parseInt(s.borderLeftWidth,10)},this.overlay.style.display="none",this.overlay.addEventListener("click",()=>{this.end()}),this.lightbox.style.display="none",this.lightbox.addEventListener("click",n=>{n.target.id===t.lightbox&&this.end()}),this.outerContainer.addEventListener("click",n=>{n.target.id===t.lightbox&&this.end()}),this.lightbox.querySelector(`.${t.lbPrev}`).addEventListener("click",n=>{n.preventDefault(),this.currentImageIndex===0?this.changeImage(this.album.length-1):this.changeImage(this.currentImageIndex-1)}),this.lightbox.querySelector(`.${t.lbNext}`).addEventListener("click",n=>{n.preventDefault(),this.currentImageIndex===this.album.length-1?this.changeImage(0):this.changeImage(this.currentImageIndex+1)}),this.nav.addEventListener("mousedown",n=>{if(n.which===3){this.nav.style.pointerEvents="none";const l=()=>{setTimeout(()=>{this.nav.style.pointerEvents="auto"},0),this.lightbox.removeEventListener("contextmenu",l)};this.lightbox.addEventListener("contextmenu",l)}}),this.lightbox.querySelectorAll(`.${t.lbLoader}, .${t.lbClose}`).forEach(n=>{n.addEventListener("click",l=>(this.end(),!1)),n.addEventListener("keyup",l=>{if(l.which===13||l.which===32)return this.end(),!1})})}start(t=0,i=null){this.build(),window.addEventListener("resize",this.boundSizeOverlay),this.sizeOverlay();const s=window.pageYOffset+this.options.positionFromTop,o=window.pageXOffset;this.lightbox.style.top=s+"px",this.lightbox.style.left=o+"px",this.fadeIn(this.lightbox,this.options.fadeDuration),document.body.style.overflow="hidden",this.options.disableScrolling&&document.body.classList.add(this.classList.lbDisableScrolling),this.changeImage(t),typeof i=="function"&&i()}changeImage(t){const i=this.classList,s=this,o=this.album[t].link,n=o.split(".").slice(-1)[0];this.disableKeyboardNav(),this.fadeIn(this.overlay,this.options.fadeDuration);const l=this.lightbox.querySelector(`.${i.lbLoader}`);this.fadeIn(l,500),this.lightbox.querySelectorAll(`.${i.lbImage}, .${i.lbNav}, .${i.lbPrev}, .${i.lbNext}, .${i.lbDataContainer}, .${i.lbNumbers}, .${i.lbCaption}`).forEach(b=>b.style.display="none"),this.outerContainer.classList.add("animating");const m=new Image;m.onload=()=>{setTimeout(()=>{this.onImageLoaded(m,t,s,o,n)},300)},m.src=this.album[t].link,this.currentImageIndex=t}onImageLoaded(t,i,s,o,n){let l,u,m,b,w,$;const I=this.lightbox.querySelector(`.${this.classList.lbImage}`);I.setAttribute("alt",s.album[i].alt),I.setAttribute("src",o),I.style.width=t.width+"px",I.style.height=t.height+"px";const O=t.width/t.height;$=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,w=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;const W=this.options.maxHeightPercentage||80,G=w*W/100;if(b=$-s.containerPadding.left-s.containerPadding.right-s.imageBorderWidth.left-s.imageBorderWidth.right-20,m=Math.min(G-s.containerPadding.top-s.containerPadding.bottom-s.imageBorderWidth.top-s.imageBorderWidth.bottom,w-s.containerPadding.top-s.containerPadding.bottom-s.imageBorderWidth.top-s.imageBorderWidth.bottom-s.options.positionFromTop-70),n==="svg"?(O>=1?(u=b,l=parseInt(b/O,10)):(u=parseInt(m/O,10),l=m),l>m&&(l=m,u=parseInt(m*O,10)),I.style.width=u+"px",I.style.height=l+"px"):(s.options.fitImagesInViewport?(s.options.maxWidth&&s.options.maxWidth<b&&(b=s.options.maxWidth),s.options.maxHeight&&s.options.maxHeight<m&&(m=s.options.maxHeight)):(b=s.options.maxWidth||t.width||b,m=s.options.maxHeight||t.height||m),(t.width>b||t.height>m)&&(t.width/b>t.height/m?(u=b,l=parseInt(t.height/(t.width/u),10),l>m&&(l=m,u=parseInt(t.width/(t.height/l),10))):(l=m,u=parseInt(t.width/(t.height/l),10),u>b&&(u=b,l=parseInt(t.height/(t.width/u),10))),I.style.width=u+"px",I.style.height=l+"px")),l+s.containerPadding.top+s.containerPadding.bottom+s.imageBorderWidth.top+s.imageBorderWidth.bottom+s.options.positionFromTop+70>w){const B=w-s.containerPadding.top-s.containerPadding.bottom-s.imageBorderWidth.top-s.imageBorderWidth.bottom-s.options.positionFromTop-70,z=B/l;l=B,u=Math.floor(u*z),I.style.width=u+"px",I.style.height=l+"px"}s.sizeContainer(parseInt(I.style.width),parseInt(I.style.height))}sizeOverlay(){setTimeout(()=>{this.overlay.style.width=Math.max(document.body.scrollWidth,document.body.offsetWidth,document.documentElement.clientWidth,document.documentElement.scrollWidth,document.documentElement.offsetWidth)+"px",this.overlay.style.height=window.innerHeight+"px"},0)}sizeContainer(t,i){const s=this.outerContainer.offsetWidth,o=this.outerContainer.offsetHeight,n=t+this.containerPadding.left+this.containerPadding.right+this.imageBorderWidth.left+this.imageBorderWidth.right,l=i+this.containerPadding.top+this.containerPadding.bottom+this.imageBorderWidth.top+this.imageBorderWidth.bottom,u=()=>{this.lightbox.querySelector(`.${this.classList.lbDataContainer}`).style.width=n+"px";const m=this.lightbox.querySelector(`.${this.classList.lbPrevLink}`),b=this.lightbox.querySelector(`.${this.classList.lbNextLink}`);m&&(m.style.height=l+"px"),b&&(b.style.height=l+"px"),this.overlay.focus(),this.showImage()};s!==n||o!==l?this.animate(this.outerContainer,{width:n,height:l},this.options.resizeDuration,u):u()}showImage(){const t=this.lightbox.querySelector(`.${this.classList.lbLoader}`);t.style.display="none",this.fadeIn(this.lightbox.querySelector(`.${this.classList.lbImage}`),this.options.imageFadeDuration),this.updateNav(),this.updateDetails(),this.preloadNeighboringImages(),this.enableKeyboardNav()}updateNav(){let t=!1;try{document.createEvent("TouchEvent"),t=!!this.options.alwaysShowNavOnTouchDevices}catch{}if(this.lightbox.querySelector(`.${this.classList.lbNav}`).style.display="block",this.album.length>1)if(this.options.wrapAround)t&&(this.lightbox.querySelector(`.${this.classList.lbPrev}`).style.opacity="1"),this.lightbox.querySelector(`.${this.classList.lbPrev}`).style.display="block",this.lightbox.querySelector(`.${this.classList.lbNext}`).style.display="block";else{if(this.currentImageIndex>0){const i=this.lightbox.querySelector(`.${this.classList.lbPrev}`);i.style.display="block",t&&(i.style.opacity="1")}if(this.currentImageIndex<this.album.length-1){const i=this.lightbox.querySelector(`.${this.classList.lbNext}`);i.style.display="block",t&&(i.style.opacity="1")}}}updateDetails(){if(typeof this.album[this.currentImageIndex].title<"u"&&this.album[this.currentImageIndex].title!==""){const t=this.lightbox.querySelector(".lb-caption");this.options.sanitizeTitle?t.textContent=this.album[this.currentImageIndex].title:t.innerHTML=this.album[this.currentImageIndex].title,this.fadeIn(t,300)}if(this.album.length>1&&this.options.showImageNumberLabel){const t=this.imageCountLabel(this.currentImageIndex+1,this.album.length),i=this.lightbox.querySelector(`.${this.classList.lbNumber}`);i.textContent=t,this.fadeIn(i,300)}else this.lightbox.querySelector(`.${this.classList.lbNumber}`).style.display="none";this.outerContainer.classList.remove("animating"),this.fadeIn(this.lightbox.querySelector(`.${this.classList.lbDataContainer}`),this.options.resizeDuration,()=>this.sizeOverlay())}preloadNeighboringImages(){if(this.album.length>this.currentImageIndex+1){const t=new Image;t.src=this.album[this.currentImageIndex+1].link}if(this.currentImageIndex>0){const t=new Image;t.src=this.album[this.currentImageIndex-1].link}}enableKeyboardNav(){document.addEventListener("keyup",this.boundKeyboardAction),this.lightbox.addEventListener("keyup",this.boundKeyboardAction),this.overlay.addEventListener("keyup",this.boundKeyboardAction)}disableKeyboardNav(){document.removeEventListener("keyup",this.boundKeyboardAction),this.lightbox.removeEventListener("keyup",this.boundKeyboardAction),this.overlay.removeEventListener("keyup",this.boundKeyboardAction)}keyboardAction(t){const n=t.keyCode;n===27?(t.stopPropagation(),this.end()):n===37?this.currentImageIndex!==0?this.changeImage(this.currentImageIndex-1):this.options.wrapAround&&this.album.length>1&&this.changeImage(this.album.length-1):n===39&&(this.currentImageIndex!==this.album.length-1?this.changeImage(this.currentImageIndex+1):this.options.wrapAround&&this.album.length>1&&this.changeImage(0))}end(){this.disableKeyboardNav(),window.removeEventListener("resize",this.boundSizeOverlay),this.fadeOut(this.lightbox,this.options.fadeDuration),this.fadeOut(this.overlay,this.options.fadeDuration),document.body.style.overflow="inherit",this.options.disableScrolling&&document.body.classList.remove(this.classList.lbDisableScrolling),setTimeout(()=>{const t=document.getElementById("lightbox"),i=document.getElementById("lightboxOverlay");t&&t.remove(),i&&i.remove()},this.options.fadeDuration)}};Mt(Y,"isBuiltOnce",!1);let ut=Y;window.addEventListener("fluent_cart_app_loaded",function(y){document.querySelectorAll("[data-fluent-cart-product-gallery-wrapper]").forEach((t,i)=>{new window.FluentCartImageGallery().init(t)})});window.addEventListener("fluentCartSingleProductModalOpened",function(y){let t=!1;window.fluentcart_single_product_vars.enable_image_zoom_in_modal==="yes"&&(t=!0),document.querySelectorAll("[data-fluent-cart-product-gallery-wrapper]").forEach((i,s)=>{new window.FluentCartImageGallery().init(i,t)})});var _,C,X,N,q,A,et,F,K,it,J,c,Yt,mt,Ut,Qt,ft,Zt,jt,pt,gt,Ae,Xt,Jt,te,ee,bt,ie,ae,yt,se,vt,It;class Ee{constructor(){g(this,c);g(this,_);g(this,C);g(this,X);g(this,N);g(this,q);g(this,A,0);g(this,et);g(this,F);g(this,K);g(this,it);g(this,J,"all")}init(t,i=!0){this.container=t,p(this,it,this.container.getAttribute("data-product-id")),p(this,J,this.container.getAttribute("data-thumbnail-mode")||"all"),p(this,et,i),p(this,F,this.findInContainer("[data-fluent-cart-thumb-control-button]")),p(this,K,this.findOneInContainer("[data-fluent-cart-single-product-page-product-thumbnail-controls]")),p(this,_,this.findOneInContainer("[data-fluent-cart-single-product-page-product-thumbnail]")),p(this,C,this.findOneInContainer("[data-fluent-cart-product-video]")),r(this,c,Yt).call(this),r(this,c,Ut).call(this),r(this,c,ie).call(this),r(this,c,pt).call(this),r(this,c,Qt).call(this),r(this,c,Xt).call(this),r(this,c,te).call(this)}updateGalleryByVariation(t=0){if(e(this,J)==="all"){this.findInContainer("[data-fluent-cart-thumb-control-button]").forEach(n=>n.classList.remove("is-hidden"));return}const i=this.findInContainer(`[data-fluent-cart-thumb-control-button][data-variation-id="${t}"]`);i.length>0&&(this.findInContainer(`[data-fluent-cart-thumb-control-button][data-variation-id]:not([data-variation-id="${t}"])`).forEach(n=>n.classList.add("is-hidden")),i.forEach(n=>n.classList.remove("is-hidden"))),this.findInContainer('[data-fluent-cart-thumb-control-button][data-variation-id="0"]').forEach(o=>o.classList.remove("is-hidden"))}findInContainer(t){return this.container.querySelectorAll(t)}findOneInContainer(t){return this.container.querySelector(t)}}_=new WeakMap,C=new WeakMap,X=new WeakMap,N=new WeakMap,q=new WeakMap,A=new WeakMap,et=new WeakMap,F=new WeakMap,K=new WeakMap,it=new WeakMap,J=new WeakMap,c=new WeakSet,Yt=function(){window.addEventListener("fluentCartSingleProductVariationChanged",t=>{var o;if(t.detail.productId!=e(this,it))return;p(this,A,t.detail.variationId),this.updateGalleryByVariation(e(this,A));let s=(o=e(this,K))==null?void 0:o.querySelectorAll(`[data-fluent-cart-thumb-control-button][data-variation-id="${e(this,A)}"]`);r(this,c,Jt).call(this,s)})},mt=function(){return e(this,C)&&!e(this,C).classList.contains("is-hidden")},Ut=function(){var s,o,n,l;const t=(s=e(this,K))==null?void 0:s.querySelectorAll("[data-fluent-cart-thumb-control-button]:not(.is-hidden)"),i=(o=e(this,K))==null?void 0:o.querySelector(".active[data-fluent-cart-thumb-control-button]:not(.is-hidden)");i?p(this,A,i.dataset.variationId):p(this,A,((l=(n=t==null?void 0:t[0])==null?void 0:n.dataset)==null?void 0:l.variationId)||0),this.updateGalleryByVariation(e(this,A))},Qt=function(){e(this,_)&&(e(this,_).removeEventListener("click",r(this,c,ft).bind(this)),p(this,X,new ut({},[])),e(this,_).addEventListener("click",r(this,c,ft).bind(this)))},ft=function(t){if(r(this,c,mt).call(this))return;const i=e(this,_).parentElement,s=i.style.position,o=!s||s==="",n=document.querySelector("[data-fluent-cart-shop-app-single-product-modal]");n&&window.FluentCartSingleProductModal.closeModal(n),o&&(i.style.position="relative");const l=document.createElement("div");l.style.position="fixed",l.style.top="0",l.style.left="0",l.style.right="0",l.style.bottom="0",l.style.zIndex="99999",document.body.appendChild(l),e(this,N)&&e(this,N).closezoom&&e(this,N).closezoom(),setTimeout(()=>{l.parentNode&&l.parentNode.removeChild(l),o&&(i.style.position="")},1e3);const u=t.target;let m=r(this,c,Zt).call(this);const b=r(this,c,gt).call(this,m,u.getAttribute("src"));b>-1&&(e(this,X).setAlbum(m),e(this,X).start(b,()=>{}))},Zt=function(){if(e(this,J)==="all")return r(this,c,jt).call(this);{let t=e(this,q)[e(this,A)],i=e(this,q)[0];return t&&i&&(t=[...t,...i]),(!t||t.length===0)&&(t=e(this,q)[0]),t}},jt=function(){const t=[],i=new Set,s=o=>{Array.isArray(o)&&o.forEach(n=>{i.has(n.link)||(t.push(n),i.add(n.link))})};return e(this,A)&&e(this,q)[e(this,A)]&&s(e(this,q)[e(this,A)]),e(this,q)[0]&&s(e(this,q)[0]),Object.keys(e(this,q)).forEach(o=>{o!=e(this,A)&&o!=0&&s(e(this,q)[o])}),t.length>0?t:e(this,q)[0]||[]},pt=function(){window.fluentcart_single_product_vars.enable_image_zoom==="yes"&&e(this,et)&&!r(this,c,mt).call(this)&&e(this,N)==null&&e(this,_)&&(window.onload=function(){},p(this,N,xZoom(e(this,_),{tint:!1,Yoffset:120,zoomWidth:500,zoomHeight:400,position:"inside",lensSize:300})))},gt=function(t,i){return Array.isArray(t)?t.findIndex(s=>s.link===i):-1},Ae=function(){return window.matchMedia("(hover: hover) and (pointer: fine)").matches},Xt=function(){const t={};e(this,F).length>0&&e(this,F).forEach((i,s)=>{if(i.dataset.mediaType==="video")return;const o=i.dataset.variationId.toString(),n=i.querySelector("[data-fluent-cart-single-product-page-product-thumbnail-controls-thumb]");n&&(t.hasOwnProperty(o)||(t[o]=[]),r(this,c,gt).call(this,t[o],n.src)===-1&&t[o].push({alt:n.alt,link:n.src,title:n.alt}))}),p(this,q,t)},Jt=function(t){if(e(this,F).forEach(i=>i.classList.remove("active")),t&&t.length>0){const i=t[0];i.classList.add("active"),r(this,c,bt).call(this,i)}},te=function(){e(this,F).forEach(t=>{t.addEventListener("click",i=>{r(this,c,ee).call(this,t)})})},ee=function(t){e(this,F).forEach(s=>s.classList.remove("active")),t.classList.add("active");const i=t.dataset.variationId;i!==void 0&&p(this,A,i),r(this,c,bt).call(this,t)},bt=function(t){const i=this.findOneInContainer("[data-fluent-cart-single-product-page-product-thumbnail]");if(t.dataset.mediaType==="video"){r(this,c,ae).call(this,document.readyState==="complete");return}if(!i)return;r(this,c,se).call(this);let s=t.dataset.url;s===void 0&&(s=i.dataset.defaultImageUrl),i.classList.remove("is-hidden"),e(this,N)||r(this,c,pt).call(this),i.setAttribute("src",s)},ie=function(){if(!e(this,C))return;r(this,c,yt).call(this);const t=()=>{r(this,c,It).call(this,!0),r(this,c,vt).call(this)};document.readyState==="complete"?t():window.addEventListener("load",t,{once:!0})},ae=function(t=!1){e(this,C)&&(r(this,c,yt).call(this),r(this,c,It).call(this,t),r(this,c,vt).call(this))},yt=function(){e(this,_)&&e(this,_).classList.add("is-hidden"),e(this,C)&&e(this,C).classList.remove("is-hidden")},se=function(){e(this,C)&&e(this,C).classList.add("is-hidden")},vt=function(){var i,s;const t=(i=e(this,C))==null?void 0:i.querySelector("video");t&&((s=e(this,C))==null?void 0:s.dataset.videoLoaded)==="yes"&&(t.currentTime=0)},It=function(t=!1){if(!e(this,C)||!t&&document.readyState!=="complete"||e(this,C).dataset.videoLoaded==="yes")return;const i=e(this,C).dataset.videoEmbed||"";if(i)try{const s=atob(i);e(this,C).innerHTML=s,e(this,C).dataset.videoLoaded="yes"}catch(s){console.error("Failed to decode product video",s)}};window.FluentCartImageGallery=Ee;document.addEventListener("DOMContentLoaded",()=>{var t,i,s,o,n,l,u,m,b,w,$,I,O,W,G,B,z,tt,P,E,h,ne,xt,Se,oe,re,rt,de,le,he,ce,Lt,dt,ue,me,fe,wt,pe,ge,be,qe,ke,ye,Ct,ve,Ie,Et,xe,At,St;const at=class at{constructor(){g(this,h);g(this,i);g(this,s);g(this,o);g(this,n);g(this,l);g(this,u);g(this,m);g(this,b);g(this,w);g(this,$);g(this,I);g(this,O);g(this,W,0);g(this,G);g(this,B);g(this,z);g(this,tt);g(this,P);g(this,E)}toTitleCase(a){return a.replace(/\w\S*/g,function(d){return d.charAt(0).toUpperCase()+d.substr(1).toLowerCase()})}$t(a){return window.fluentcart_single_product_vars.trans[a]||a}findInContainer(a){return e(this,i).querySelectorAll(a)}findOneInContainer(a){return e(this,i).querySelector(a)}init(a,d){return p(this,O,d),p(this,i,a),p(this,s,this.findInContainer("[data-fluent-cart-product-variant]")),p(this,z,e(this,i).getAttribute("data-product-id")),p(this,l,this.findOneInContainer("[data-fluent-cart-product-qty-increase-button]")),p(this,u,this.findOneInContainer("[data-fluent-cart-product-qty-decrease-button]")),p(this,o,this.findOneInContainer("[data-fluent-cart-single-product-page-product-quantity-input]")),p(this,n,this.findOneInContainer("[data-fluent-cart-product-quantity-container]")),p(this,m,this.findInContainer("[data-fluent-cart-add-to-cart-button]")),p(this,b,this.findInContainer("[data-fluent-cart-direct-checkout-button]")),p(this,w,this.findInContainer("[data-fluent-cart-thumb-control-button]")),p(this,$,this.findOneInContainer("[data-fluent-cart-single-product-page-product-thumbnail-controls]")),p(this,G,this.findOneInContainer("[data-fluent-cart-product-item-price]")),p(this,B,this.findOneInContainer("[data-fluent-cart-product-payment-type]")),p(this,tt,this.findOneInContainer("[data-fluent-cart-product-pricing-section]")),p(this,P,this.findOneInContainer("[data-fluent-cart-single-product-page-product-thumbnail]")),p(this,E,this.findOneInContainer("[data-fluent-cart-product-video]")),r(this,h,ue).call(this),r(this,h,me).call(this),r(this,h,fe).call(this),r(this,h,pe).call(this),r(this,h,he).call(this),r(this,h,re).call(this),r(this,h,ve).call(this),r(this,h,oe).call(this),r(this,h,xt).call(this),r(this,h,ne).call(this),p(at,t,this),this}updateGalleryByVariation(a=0){const d=document.querySelectorAll(`[data-fluent-cart-thumb-control-button][data-variation-id="${a}"]`);d.length>0?(document.querySelectorAll(`[data-fluent-cart-thumb-control-button][data-variation-id]:not([data-variation-id="${a}"])`).forEach(v=>v.classList.add("is-hidden")),d.forEach(v=>v.classList.remove("is-hidden"))):document.querySelectorAll('[data-fluent-cart-thumb-control-button][data-variation-id="0"]').forEach(v=>v.classList.remove("is-hidden"))}};t=new WeakMap,i=new WeakMap,s=new WeakMap,o=new WeakMap,n=new WeakMap,l=new WeakMap,u=new WeakMap,m=new WeakMap,b=new WeakMap,w=new WeakMap,$=new WeakMap,I=new WeakMap,O=new WeakMap,W=new WeakMap,G=new WeakMap,B=new WeakMap,z=new WeakMap,tt=new WeakMap,P=new WeakMap,E=new WeakMap,h=new WeakSet,ne=function(){window.addEventListener("resize",a=>{r(this,h,xt).call(this)})},xt=function(){const a=document.querySelector(".fluent-cart-single-product-page");a&&(a.offsetWidth<=815?a.classList.add("is-mobile"):a.classList.remove("is-mobile"))},Se=function(a,d){return Array.isArray(a)?a.findIndex(f=>f.link===d):-1},oe=function(){this.findOneInContainer("[data-fluent-cart-product-tab]")&&(p(this,I,new Ce(e(this,i))),e(this,I).init())},re=function(){var L,kt,Tt,Ot,_t,$t,Pt,Wt,Bt,Dt,Nt,Ft,Ht;const a=this.findOneInContainer(".selected[data-fluent-cart-product-variant]"),d=a==null?void 0:a.dataset.cartId;a==null||a.dataset.itemPrice,a==null||a.dataset.subscriptionTerms;const f=a==null?void 0:a.dataset.paymentType;let v=(L=window.fluentcart_single_product_vars)==null?void 0:L.in_stock_status,x=a==null?void 0:a.dataset.stockManagement,S=v;if(x==="yes"&&(S=a==null?void 0:a.dataset.itemStock),d!==void 0&&(e(this,m).forEach(R=>{R.setAttribute("data-cart-id",d)}),r(this,h,rt).call(this,d,S)),d===void 0&&e(this,s).length===0){const R=(kt=e(this,b)[0])==null?void 0:kt.dataset.cartId,ot=(Tt=e(this,b)[0])==null?void 0:Tt.dataset.stockAvailability;r(this,h,rt).call(this,R,ot)}const H=(Ot=e(this,$))==null?void 0:Ot.querySelectorAll("[data-fluent-cart-thumb-control-button]:not(.is-hidden)"),D=(_t=e(this,tt))==null?void 0:_t.querySelector("[data-fluent-cart-product-variant].selected");D?p(this,W,(($t=D==null?void 0:D.dataset)==null?void 0:$t.cartId)||0):p(this,W,((Pt=H==null?void 0:H.dataset)==null?void 0:Pt.variationId)||0),r(this,h,ce).call(this,H);const M=new URL(window.location.href).searchParams;if(M.has("selected")){const R=M.get("selected"),ot=this.findOneInContainer(`[data-fluent-cart-product-variant][data-cart-id="${R}"]`);ot&&r(this,h,Lt).call(this,ot)}r(this,h,be).call(this),r(this,h,ge).call(this);const st=((Wt=e(this,s)[0])==null?void 0:Wt.dataset.paymentType)||((Bt=e(this,n))==null?void 0:Bt.dataset.paymentType),nt=((Dt=e(this,b)[0])==null?void 0:Dt.dataset.variationType)||((Nt=e(this,n))==null?void 0:Nt.dataset.variationType);st==="subscription"&&nt==="simple"&&((Ft=e(this,B))==null||Ft.classList.remove("is-hidden")),f==="subscription"&&((Ht=e(this,B))==null||Ht.classList.remove("is-hidden")),(a==null?void 0:a.dataset.cartId)===(a==null?void 0:a.dataset.defaultVariationId)&&e(this,w).forEach(R=>{R.classList.remove("is-hidden")}),r(this,h,dt).call(this,S)},rt=function(a,d){var v;const f=(((v=window.fluentcart_single_product_vars)==null?void 0:v.out_of_stock_status)||"").toString();e(this,b).forEach(x=>{if(d!==f){const S=x.dataset.quantity;let H=x.getAttribute("data-url")+a+"&quantity="+S;x.setAttribute("href",H),x.setAttribute("data-cart-id",a),x.classList.remove("is-hidden"),x.classList.remove("disabled"),x.removeAttribute("disabled")}else x.removeAttribute("href"),x.classList.add("is-hidden"),x.setAttribute("disabled","disabled")})},de=function(a){e(this,b).forEach(d=>{d.setAttribute("data-quantity",a);const f=d.getAttribute("data-cart-id");if(f){let v=d.getAttribute("data-url")+f+"&quantity="+a;d.setAttribute("href",v)}})},le=function(a){e(this,m).forEach(d=>{d.setAttribute("data-quantity",a)})},he=function(){e(this,s).forEach(a=>{a.addEventListener("click",d=>{r(this,h,Lt).call(this,a)})})},ce=function(a){if(a&&a.length>0){const d=a[0];d.classList.add("active"),r(this,h,Ct).call(this,d)}},Lt=function(a){var nt;e(this,s).forEach(L=>L.classList.remove("selected")),r(this,h,wt).call(this);const d=a.dataset.cartId,f=a.closest("[data-fluent-cart-product-pricing-section]");f.querySelectorAll("[data-fluent-cart-product-payment-type]"),f.querySelectorAll("[data-fluent-cart-product-item-price]");const v=f.querySelectorAll(".fluent-cart-product-variation-content[data-variation-id]");v&&v.forEach(L=>L.classList.add("is-hidden"));const x=f.querySelectorAll(`.fluent-cart-product-variation-content[data-variation-id="${d}"]`);x&&x.forEach(L=>L.classList.remove("is-hidden")),p(this,W,d);let S=(nt=window.fluentcart_single_product_vars)==null?void 0:nt.in_stock_status,H=a==null?void 0:a.dataset.stockManagement,D=S;H==="yes"&&(D=a==null?void 0:a.dataset.itemStock),d!==void 0&&(e(this,w).forEach(L=>L.classList.remove("active")),e(this,m).forEach(L=>{L.setAttribute("data-cart-id",d)}),r(this,h,rt).call(this,d,D),a.dataset.paymentType==="subscription"?e(this,m).forEach(L=>L.classList.add("is-hidden")):e(this,m).forEach(L=>{L.classList.remove("is-hidden"),L.setAttribute("data-cart-id",d)})),D!==void 0&&r(this,h,dt).call(this,D),a.classList.add("selected");const lt=this.findInContainer("[data-fluent-cart-single-product-page-product-variant-price-info]");lt&&lt.forEach(L=>L.classList.remove("selected"));const M=this.findOneInContainer(`[data-fluent-cart-single-product-page-product-variant-price-info][data-cart-id="${d}"]`);M&&(M==null||M.classList.add("selected"));const st=this.findInContainer(`[data-fluent-cart-single-product-page-product-quantity][data-cart-id="${d}"]`);st&&st.forEach(L=>L.classList.add("selected")),window.dispatchEvent(new CustomEvent("fluentCartSingleProductVariationChanged",{detail:{productId:e(this,z),variationId:d}}))},dt=function(a){if(!a)return;const d=this.findOneInContainer("[data-fluent-cart-product-stock]");d&&(d.innerHTML=this.$t(this.toTitleCase(a.replaceAll("-"," ")))),a===window.fluentcart_single_product_vars.out_of_stock_status?(e(this,m).forEach(f=>{const v=f.querySelector(".text");v&&(v.textContent=window.fluentcart_single_product_vars.out_of_stock_button_text),f.setAttribute("disabled","disabled"),f.classList.add("out-of-stock")}),e(this,b).forEach(f=>f.classList.add("is-hidden"))):(e(this,m).forEach(f=>{const v=f.querySelector(".text");v&&(v.textContent=window.fluentcart_single_product_vars.cart_button_text),f.classList.remove("out-of-stock"),f.removeAttribute("disabled")}),e(this,b).forEach(f=>f.classList.remove("is-hidden")))},ue=function(){e(this,l)&&e(this,l).addEventListener("click",async a=>{a.preventDefault();const d=document.querySelector(`[data-fluent-cart-product-variant][data-cart-id="${e(this,W)}"]`),f=d==null?void 0:d.dataset.availableStock;let v=parseInt(e(this,o).value,10)||1,x=e(this,o).getAttribute("max"),S=x?parseInt(x,10):1e4;if(v>=S){window.Toastify&&new Toastify({text:`You can only purchase a maximum of ${S} item${S>1?"s":""}.`,className:"warning",duration:3e3,gravity:"top",position:"right",slideFrom:"right",type:"warning"}).showToast();return}if(v++,f!=="unlimited"&&v>parseInt(f)){window.Toastify&&new Toastify({text:"You have reached the maximum quantity.",className:"warning",duration:3e3,gravity:"top",position:"right",slideFrom:"right",type:"warning"}).showToast();return}e(this,o).value=v,e(this,o).dispatchEvent(new Event("input"))})},me=function(){e(this,u)&&e(this,u).addEventListener("click",a=>{a.preventDefault();let d=parseInt(e(this,o).value,10)||1;d>1&&d--,e(this,o).value=d,e(this,o).dispatchEvent(new Event("input"))})},fe=function(){e(this,o)&&e(this,o).addEventListener("input",()=>{let a=parseInt(e(this,o).value,10);isNaN(a)||a<1?a=1:a>1e4&&(a=1e4),e(this,o).value=a,r(this,h,de).call(this,a),r(this,h,le).call(this,a)})},wt=function(){e(this,o)&&(e(this,o).value=1,e(this,o).dispatchEvent(new Event("input")))},pe=function(){const a="single_product_page_cart_updated_"+e(this,O);e(this,m).forEach(d=>{d.setAttribute("data-action-name",a),d.setAttribute("data-error-action-name",a)}),document.addEventListener(a,()=>{r(this,h,wt).call(this)})},ge=function(){var d;((d=e(this,s)[0])==null?void 0:d.dataset.paymentType)==="subscription"&&e(this,m).forEach(f=>{f.setAttribute("data-cart-id","")})},be=function(){var v,x,S;let a=(v=window.fluentcart_single_product_vars)==null?void 0:v.in_stock_status,d=(x=e(this,s)[0])==null?void 0:x.dataset.stockManagement,f=a;d==="yes"&&(f=(S=e(this,s)[0])==null?void 0:S.dataset.itemStock),f===window.fluentcart_single_product_vars.out_of_stock_status&&r(this,h,dt).call(this,f)},qe=function(){e(this,m).forEach(a=>{a.setAttribute("data-cart-id","")})},ke=function(){e(this,w).forEach(a=>{a.addEventListener("click",d=>{r(this,h,ye).call(this,a)})})},ye=function(a){e(this,w).forEach(d=>d.classList.remove("active")),a.classList.add("active"),r(this,h,Ct).call(this,a)},Ct=function(a){if(a.dataset.mediaType==="video"){r(this,h,Ie).call(this,document.readyState==="complete");return}if(!e(this,P))return;r(this,h,xe).call(this);let d=a.dataset.url;d===void 0&&(d=e(this,P).dataset.defaultImageUrl),e(this,P).classList.remove("is-hidden"),e(this,P).setAttribute("src",d)},ve=function(){if(!e(this,E))return;r(this,h,Et).call(this);const a=()=>{r(this,h,St).call(this,!0),r(this,h,At).call(this)};document.readyState==="complete"?a():window.addEventListener("load",a,{once:!0})},Ie=function(a=!1){e(this,E)&&(r(this,h,Et).call(this),r(this,h,St).call(this,a),r(this,h,At).call(this))},Et=function(){e(this,P)&&e(this,P).classList.add("is-hidden"),e(this,E)&&e(this,E).classList.remove("is-hidden")},xe=function(){e(this,E)&&e(this,E).classList.add("is-hidden")},At=function(){var d,f;const a=(d=e(this,E))==null?void 0:d.querySelector("video");a&&((f=e(this,E))==null?void 0:f.dataset.videoLoaded)==="yes"&&(a.currentTime=0)},St=function(a=!1){if(!e(this,E)||!a&&document.readyState!=="complete"||e(this,E).dataset.videoLoaded==="yes")return;const d=e(this,E).dataset.videoEmbed||"";if(d)try{const f=atob(d);e(this,E).innerHTML=f,e(this,E).dataset.videoLoaded="yes"}catch(f){console.error("Failed to decode product video",f)}},g(at,t,null);let y=at;document.querySelectorAll("[data-fluent-cart-product-pricing-section]").forEach((qt,a)=>{new y().init(qt,a)}),window.addEventListener("fluentCartSingleProductModalOpened",function(qt){document.querySelectorAll("[data-fluent-cart-product-pricing-section]").forEach((a,d)=>{})}),window.FluentCartSingleProduct=y});
